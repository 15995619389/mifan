// Generated by CoffeeScript 1.7.1
Mifan.controller("homeNews", function($scope, $timeout, $http) {
  var API, getNews;
  API = $scope.API;
  $scope.content = "最新动态";
  $scope.toggleMBubble = function(index) {
    return $scope.newsCollect[index].bblActv = !$scope.newsCollect[index].bblActv;
  };
  $scope.setMBill = function(index) {
    return $scope.toggleMBill(["love", "comment", "share"]);
  };
  $scope.newsCollect = [];
  getNews = function() {
    var cb, url;
    url = "" + API.news + $scope.privacyParamDir;
    if (IsDebug) {
      url = API.news;
    }
    cb = function(data) {
      var ret;
      ret = data['ret'];
      if (String(ret) === "100000") {
        return $scope.newsCollect = data['result'];
      }
    };
    return $http.get(url, {}).success(cb);
  };
  return getNews();
});
